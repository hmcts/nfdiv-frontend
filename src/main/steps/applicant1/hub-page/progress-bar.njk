{% from "components/hmcts-progress-bar/macro.njk" import hmctsProgressBar %}

{% if isJointApplication %}
  {{ hmctsProgressBar({
    classes: 'hub-progress-bar',
    items: [{
      label: {
        text: applicationSubmitted
      },
      complete: progressionIndex > 0,
      active: progressionIndex == 0
    }, {
      label: {
        text: conditionalOrderApplication
      },
      complete: progressionIndex > 0,
      active: hasApplicantConfirmedReceipt
    }, {
      label: {
        text: conditionalOrderGranted
      },
      complete: progressionIndex > 1,
      active: progressionIndex == 1
    }, {
      label: {
        text: finalOrderApplication
      },
      complete: progressionIndex > 2,
      active: progressionIndex == 2
    }, {
      label: {
        text: applicationEnded
      },
      complete: progressionIndex >= 3,
      active: progressionIndex == 3
    }]
  }) }}
{% else %}
  {{ hmctsProgressBar({
    classes: 'hub-progress-bar',
    items: [{
      label: {
        text: applicationSubmitted
      },
      complete: progressionIndex > 0,
      active: progressionIndex == 0
    }, {
      label: {
        text: response
      },
      complete: progressionIndex > 1,
      active: progressionIndex == 1
    }, {
      label: {
        text: conditionalOrderApplication
      },
      complete: progressionIndex > 1,
      active: hasApplicantConfirmedReceipt
    }, {
      label: {
        text: conditionalOrderGranted
      },
      complete: progressionIndex > 2,
      active: progressionIndex == 2
    }, {
      label: {
        text: finalOrderApplication
      },
      complete: progressionIndex > 3,
      active: progressionIndex == 3
    }, {
      label: {
        text: applicationEnded
      },
      complete: progressionIndex >= 4,
      active: progressionIndex == 4
    }]
  }) }}
{% endif %}
