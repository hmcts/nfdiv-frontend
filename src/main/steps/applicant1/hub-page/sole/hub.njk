{% from "govuk/components/details/macro.njk" import govukDetails %}

{% if progressionIndex == 4 %}
  <p class="govuk-body">{{ d8Submitted.line1 | safe }}</p>
  <p class="govuk-body">{{ d8Submitted.line2 }}</p>
  <h4 class="govuk-heading-s">{{ whatHappensNext }}</h4>
  <p class="govuk-body">{{ d8Submitted.line3 }}</p>
  <p class="govuk-body">{{ d8Submitted.line4 }}</p>
{% elif progressionIndex == 3 and applicationDisputing %}
  <p class="govuk-body">{{ d8Awaiting.line1 | safe }}</p>
  <h4 class="govuk-heading-s">{{ whatHappensNext }}</h4>
  <p class="govuk-body">{{ d8Awaiting.line2 }}</p>
  <p class="govuk-body">{{ d8Awaiting.line3 }}</p>
{% elif progressionIndex == 3 %}
  {% if successfulServedByBailiff %}
    <p class="govuk-body">{{ servedByBailiff.line1 | safe }}</p>
  {% else %}
    <p class="govuk-body">{{ holding.line1 | safe }}</p>
  {% endif %}
  <p class="govuk-body">{{ holding.line2 }}</p>
  <p class="govuk-body">{{ holding.line3 }}</p>
  {% set readMoreContent %}
    <p class="govuk-body">{{ holding.line4 }}</p>
    <ol class="govuk-list govuk-list--number">
    {% for property, line in holding.steps %}
      <li>{{ line | safe }}</li>
    {% endfor %}
    </ol>
    <p class="govuk-body">{{ holding.line5 | safe }}</p>
  {% endset %}
  {{ govukDetails({
    summaryText: holding.readMore,
    html: readMoreContent
  }) }}
{% elif progressionIndex == 2 %}
  <p class="govuk-body">{{ aosDue.line1 }}</p>
  <p class="govuk-body">{{ aosDue.line2 | safe }}</p>
{% else %}
  {% for property, line in aosAwaitingOrDrafted %}
    <p class="govuk-body">{{ line }}</p>
  {% endfor %}
{% endif %}
