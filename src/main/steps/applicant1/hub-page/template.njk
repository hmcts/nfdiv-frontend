{% from "govuk/components/details/macro.njk" import govukDetails %}
{% from "components/hmcts-progress-bar/macro.njk" import hmctsProgressBar %}

{% extends "common/page.njk" %}

{% block backLink %}{% endblock %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <h1 class="govuk-heading-l">{{ title }}</h1>

      <div class="govuk-body">
        {{ referenceNumber }}
      </div>

      <hr class="govuk-section-break govuk-section-break--l govuk-section-break--visible govuk-section-break--thinner">
      <div class="govuk-!-padding-bottom-8"></div>

      {{ hmctsProgressBar({
        classes: 'hub-progress-bar',
        items: [{
          label: {
            text: applicationSubmitted
          },
            complete: progressionIndex == 0,
            active: progressionIndex == 0
          }, {
            label: {
              text: conditionalOrderApplication
            },
            complete: progressionIndex > 0,
            active: hasApplicantConfirmedReceipt
          }, {
            label: {
              text: conditionalOrderGranted
            },
            complete: progressionIndex > 1,
            active: progressionIndex == 1
          }, {
            label: {
              text: finalOrderApplication
            },
            complete: progressionIndex >= 2,
            active: progressionIndex == 2
          }, {
            label: {
              text: applicationEnded
            },
            complete: progressionIndex >= 3,
            active: progressionIndex == 3
          }]
          }) }}

      <h2 class="govuk-heading-m">{{ subHeading1 }}</h2>
      <div class="govuk-panel govuk-panel--outstanding">
        {% if isJointApplication %}
          {% include "./pages/joint/hub-1.njk" %}
        {% else %}
          {% include "./pages/sole/hub-1.njk" %}
        {% endif %}

        <h3 class="govuk-heading-s">{{ subHeading2 }}</h3>
        <p class="govuk-body">{{ line1 | safe }}</p>
      </div>
    </div>

    <div class="govuk-grid-column-one-third hub-right-column">
      <hr class="govuk-section-break govuk-section-break--l govuk-section-break--visible govuk-section-break--additional">
      <h2 class="govuk-heading-s">{{ subHeading3 }}</h2>

      <p class="govuk-body">{{ line2 | safe }}</p>
      {% if isApplicant2 %}
        <p class="govuk-body">{{ applicant2ReviewContactDetails | safe }}</p>
      {% else %}
        <p class="govuk-body">{{ applicant1ReviewContactDetails | safe }}</p>
      {% endif %}
      <hr class="govuk-section-break govuk-section-break--l govuk-section-break--visible">

      <h3 class="govuk-heading-s">{{ subHeading4 }}</h3>
      <p class="govuk-body">{{ telephone | safe }}</p>
      <p class="govuk-body">{{ email | safe }}</p>
      <p class="govuk-body">{{ post | safe}}</p>
    </div>
  </div>
{% endblock %}

{% block contact_us %}{% endblock %}
