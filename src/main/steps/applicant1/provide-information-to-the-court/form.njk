{% from "govuk/components/checkboxes/macro.njk" import govukCheckboxes %}

{% extends "common/form/form.njk"%}

{% set conditionalText %}
  <p class="govuk-body govuk-!-margin-top-5">{{ cannotUploadYouCanPost }}<strong>{{ referenceNumber }}</strong></p>
  <h3 class="govuk-heading-s govuk-!-margin-bottom-1">{{ serviceAddress.line1 }}</h3>
  <ul class="govuk-list">
    <li>{{ serviceAddress.line2 }}</li>
    <li>{{ serviceAddress.poBox }}</li>
    <li>{{ serviceAddress.town }}</li>
    <li>{{ serviceAddress.postcode }}</li>
  </ul>
{% endset %}

{% set coCannotUploadClarificationDocuments %}
  {{ govukCheckboxes({
    idPrefix: 'coCannotUploadClarificationDocuments',
    name: 'coCannotUploadClarificationDocuments',
    fieldset: {
      legend: {
        text: cannotUploadDocuments,
        classes: "govuk-visually-hidden"
      }
    },
    items: [{
        name: 'coCannotUploadClarificationDocuments',
        text: cannotUploadDocuments,
        value: 'checked',
        checked: userCase.applicant1ConfirmInformationStillCorrect == 'No',
        conditional: {
          html: conditionalText
        }
    }],
    errorMessage: getError('coCannotUploadClarificationDocuments'),
    formGroup: {
      classes: 'coCannotUploadClarificationDocuments'
    }
  }) }}
{% endset %}

{% block form_content %}

  {% for fieldName, field in form.fields %}
    {% if fieldName == 'coCannotUploadClarificationDocuments' %}
      {{ coCannotUploadClarificationDocuments | safe }}
    {% else %}
      {% include "common/form/fields/" + field.type + ".njk" %}

      {% if fieldName == 'coClarificationResponses' %}
        <br>
        <h4 class="govuk-heading-s">{{ uploadTitle }}</h4>
        <p class="govuk-body">{{ line5 }}</p>
        {% include "../upload-your-documents/document-upload.njk" %}
      {% endif %}

    {% endif %}
  {% endfor %}

{% endblock %}
