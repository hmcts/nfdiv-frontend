{% from "govuk/components/button/macro.njk" import govukButton %}

<form class="form" id="main-form" method="post" action="" novalidate="novalidate">
  <input type="hidden" name="_csrf" id="csrfToken" value="{{ csrfToken }}">
  {% block form_content %}
    {% include "common/form/fields.njk" %}
  {% endblock %}

  {% if userCase.state == 'Holding' and not hasApplicantConfirmedReceipt %}
    {{ govukButton({
      text: "Confirm receipt",
      classes: form.submit.classes,
      type: "submit",
      name: "applicant2ConfirmReceipt",
      value: "Yes",
      preventDoubleClick: true
    }) }}
  {% elif progressionIndex.indexOf(userCase.state) > progressionIndex.indexOf('Holding') and
    progressionIndex.indexOf(userCase.state) < progressionIndex.indexOf('AwaitingLegalAdvisorReferral') %}
    {{ govukButton({
      text: "Apply for conditional order",
      classes: form.submit.classes,
      type: "submit",
      name: "applicant2ApplyForConditionalOrderStarted",
      value: "Yes",
      preventDoubleClick: true
    }) }}
  {% endif %}
 </form>
